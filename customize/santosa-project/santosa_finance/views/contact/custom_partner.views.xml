<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_contact_form_custom" model="ir.ui.view">
        <field name="name">res.partner.form.custom</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="priority" eval="98"/>
        <field name="arch" type="xml">
            <!-- Tambahkan Tab Baru -->
            <xpath expr="//notebook" position="inside">
                <page string="Piutang Usaha" invisible="not is_customer">
                    <group>
                        <field name="transaction_tracking_ids" string="" readonly='1'>
                                <tree delete='0' create="0" default_order='id asc'>
                                    <field name="id" string="id" optional='hide'/>
                                    <field name="transaction_date" string="Transaction Date" optional='hide'/>
                                    <field name="populate_date" string="Populate Date" optional='hide'/>
                                    <field name="account_move_id" string="Transaction Number" optional='show'/>
                                    <field name="document_date" string="Document Date" optional='hide'/>
                                    <field name="entered_date" string="Entered Date" optional='show'/>
                                    <field name="document_no" string="Document Number" optional='show'/>
                                    <field name="description" string="Description" optional='show'/>
                                    <field name="transaction_class" string="Transaction Class" optional='hide'/>
                                    <field name="beginning_balance" string="Beginning Balance" optional='show'/>
                                    <field name="amount_debit" string="Amount Debit" optional='show'/>
                                    <field name="amount_credit" string="Amount Credit" optional='show'/>
                                    <field name="ending_balance" string="Ending Balance" optional='show'/>
                                    <field name="journal_number" string="Journal Number" optional='hide'/>
                                    <button name="ambil_view" type="object" string="Detail" class="fa fa-eye"/>
                                </tree>
                            </field>
                    </group>
                </page>
                <page string="Piutang Klaim" invisible="not is_customer">
                    <group>
                        <field name="transaction_tracking_ids" string="" readonly='1'>
                            <tree delete="0" create="0" default_order="id asc">
                                <field name="id" string="ID" optional="hide"/>
                                <field name="transaction_date" string="Transaction Date" optional="hide"/>
                                <field name="populate_date" string="Populate Date" optional="hide"/>
                                <field name="account_move_id" string="Transaction Number" optional="show"/>
                                <field name="document_date" string="Document Date" optional="hide"/>
                                <field name="entered_date" string="Entered Date" optional="show"/>
                                <field name="document_no" string="Document Number" optional="show"/>
                                <field name="description" string="Description" optional="show"/>
                                <field name="transaction_class" string="Transaction Class" optional="hide"/>
                                <field name="beginning_balance" string="Beginning Balance" optional="show"/>
                                <field name="amount_debit" string="Amount Debit" optional="show"/>
                                <field name="amount_credit" string="Amount Credit" optional="show"/>
                                <field name="ending_balance" string="Ending Balance" optional="show"/>
                                <field name="journal_number" string="Journal Number" optional="hide"/>
                                <button name="ambil_view" type="object" string="Detail Invoice" class="fa fa-eye"/>
                            </tree>
                        </field>
                    </group>
                </page>
                <page string="Hutang Usaha" invisible="not is_supplier">
                    <group>
                        <field name="transaction_tracking_ids" string="" readonly='1'>
                                <tree delete='0' create="0" default_order='id asc'>
                                    <field name="id" string="id" optional='hide'/>
                                    <field name="transaction_date" string="Transaction Date" optional='hide'/>
                                    <field name="populate_date" string="Populate Date" optional='hide'/>
                                    <field name="account_move_id" string="Transaction Number" optional='show'/>
                                    <field name="document_date" string="Document Date" optional='hide'/>
                                    <field name="entered_date" string="Entered Date" optional='show'/>
                                    <field name="document_no" string="Document Number" optional='show'/>
                                    <field name="description" string="Description" optional='show'/>
                                    <field name="transaction_class" string="Transaction Class" optional='hide'/>
                                    <field name="beginning_balance" string="Beginning Balance" optional='show'/>
                                    <field name="amount_debit" string="Amount Debit" optional='show'/>
                                    <field name="amount_credit" string="Amount Credit" optional='show'/>
                                    <field name="ending_balance" string="Ending Balance" optional='show'/>
                                    <field name="journal_number" string="Journal Number" optional='hide'/>
                                    <button name="ambil_view" type="object" string="Detail" class="fa fa-eye"/>
                                </tree>
                            </field>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <record id="view_res_partner_form_customer" model="ir.ui.view">
        <field name="name">res.partner.form.customer</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/group" position="inside">
                <group>
                <field name="is_customer" string="Customer?" invisible="context.get('default_is_customer', False) != 1"/>
                <field name="tipe_customer" string="Customer Type" invisible="is_customer != True"/>
                <filter string="Dokter Mitra" name="filter_dokter_mitra" domain="[('is_dokter_mitra', '=', True)]"/>

                </group>
            </xpath>
        </field>
    </record>

    <!-- Inherit form view untuk vendor -->
    <record id="view_res_partner_form_vendor" model="ir.ui.view">
        <field name="name">res.partner.form.vendor</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/group" position="inside">
                <group>
                    <field name="is_supplier" string="Supplier?" invisible="context.get('default_is_supplier', False) != 1"/>
                </group>
            </xpath>
        </field>
    </record>

    <!-- Inherit form view untuk dokter mitra -->
    <record id="view_res_partner_form_dokter_mitra" model="ir.ui.view">
        <field name="name">res.partner.form.dokter_mitra</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/group" position="inside">
            <group>
                <field name="is_dokter_mitra" string="Dokter Mitra?" invisible="context.get('default_is_dokter_mitra', False) != 1"/>
            </group>
            </xpath>
        </field>
    </record>

</odoo>
