<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="wiz_employee_shift_wizard_view_form" model="ir.ui.view">
            <field name="name">wiz.employee.shift.wizard.view.form</field>
            <field name="model">wiz.employee.shift</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <field name="target_models" invisible="1"/> 
                        <field name="target_process" invisible="1"/>
                            <group id="info" invisible="target_process == 'process xls'" >
                                <field name="area_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" readonly="1" invisible="target_process != 'generate'"/>
                                <field name="branch_ids" options="{'no_edit': True, 'no_create': True, 'no_open': True}" invisible="1"/>
                                <field name="branch_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" required="target_process != 'process xls'" invisible="target_process in ('process xls','shif to EMP')"/>
                                <field name="alldepartment" options="{'no_edit': True, 'no_create': True, 'no_open': True}" invisible="1"/>
                                <field name="department_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" invisible="1"/>
                                <field name="directorate_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" string = "Direktorat" invisible="target_process != 'generate'" domain="['|',('branch_id', '=', branch_id),('branch_id', '=', False)]"/>
                                <field name="hrms_department_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" string = "Departemen" invisible="target_process != 'generate'" domain="['|',('directorate_id', '=', directorate_id),('directorate_id', '=', False)]"/>
                                <field name="division_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" string = "Divisi" domain="['|',('department_id', '=', hrms_department_id),('department_id', '=', False)]" invisible="target_process in ('process xls','shif to EMP')"/>
                                <field name="periode_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" required="target_process != 'process xls'" invisible="target_process == 'process xls'" />
                                <field name="period_text" options="{'no_edit': True, 'no_create': True, 'no_open': True}" invisible="1"/>
                                <field name="empgroup_id" string='Code EMPGroup' options="{'no_edit': True, 'no_create': True, 'no_open': True}" required="target_process == 'shif to EMP'" invisible="target_process != 'shif to EMP'"/>
                            </group>
                            <group id="export" invisible="target_process != 'process xls'" >
                                <field name="files_data" required="target_process == 'process xls'"/>
                            </group>
                            <notebook invisible="target_process in ('process xls','shif to EMP')" >
                                <page string="Employee List" name="empgroup_list">
                                    <button name="btn_search" string="Search" type="object" class="oe_highlight fa fa-search"/>
                                    <button name="btn_select_all" string="Selected All" type="object" class="btn-secondary fa fa-check"/>
                                    <field name="employee_ids" readonly="0" >
                                        <tree editable="bottom" create="false" delete="false">
                                                <field name="cari_id" column_invisible="1"/>
                                                <field name="employee_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" readonly="1"/>
                                                <field name="directorate_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" string = "Direktorat" readonly="1"/>
                                                <field name="hrms_department_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" string = "Departemen" readonly="1"/>
                                                <field name="division_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" string = "Divisi" readonly="1" />
                                                <field name="department_id" column_invisible="1"/>
                                                <field name="nik" readonly="1"/>
                                                <field name="job_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}" string = "Jabatan" readonly="1"/>
                                                <field name="is_selected"/>
                                        </tree>
                                    </field>
                                </page>
                            </notebook>
                        <field name="id" readonly="1" invisible="1"/>
                    </sheet>
                    <footer>
                        <!-- <button name="action_process" string="Apply" type="object" class="oe_highlight" data-hotkey="a" invisible="target_process == 'process xls'"/> -->
                        <button name="action_process" string="Process" type="object" class="oe_highlight" data-hotkey="p"/>
                        <button string="Discard" class="btn-secondary" special="cancel" data-hotkey="x"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="hr_employee_shift_wizard_action" model="ir.actions.act_window">
            <field name="name">Employee Shift</field>
            <field name="res_model">wiz.employee.shift</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
    </data>
</odoo>
