<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
<!--        <delete model="ir.ui.view" search="[('id','=', ref('sanbe_hr_extended.hr_employee_extended_form'))]"/>-->
        <record id="hr_employee_extended_form" model="ir.ui.view">
            <field name="name">hr.employee.extended.form</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_form" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='parent_id']" position="replace" />
                <xpath expr="//field[@name='mobile_phone']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='job_id']" position="replace" />

                <xpath expr="//field[@name='company_id']" position="attributes" >
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='work_phone']" position="before">

                    <field name="state" invisible="1"/>
                    <field name="area" options="{'no_create': True,'no_create_edit': True}" required="1" readonly="(state != 'draft')" />
                    <field name="branch_ids" invisible="1"  readonly="(state != 'draft')" />
                    <field name="alldepartment" invisible="1"  readonly="(state != 'draft')" />
                    <field name="branch_id" options="{'no_create': True,'no_create_edit': True}" string = "Unit Bisnis" required="1"  readonly="( state != 'draft')" />
                    <field name="directorate_id" options="{'no_create': True,'no_create_edit': True}" domain="['|',('branch_id','=',branch_id),('branch_id','=',False)]"  string = "Direktorat" required='1'  readonly="(state != 'draft')" />
                    <field name="hrms_department_id" options="{'no_create': True,'no_create_edit': True}" domain="[('directorate_id','=',directorate_id)]" string = "Departemen" required='1'  readonly="(state != 'draft')" />
                    <field name="division_id" options="{'no_create': True,'no_create_edit': True}" domain="[('department_id','=',hrms_department_id)]" string = "Divisi" required='1'  readonly="(state != 'draft')" />
                    <field name="job_id" options="{'no_create': True,'no_create_edit': True}" domain="[('division_id','=',division_id)]"  required="1" string="Jabatan" readonly="(state != 'draft')" />
                    <field name="parent_id" options="{'no_create': True,'no_create_edit': True}" domain="[('id', '!=', id),'|',('branch_id','=',branch_id),('branch_id','=',False)]" string="Atasan Langsung"  readonly="(state != 'draft')" />
                </xpath>
                <xpath expr="//field[@name='work_phone']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='country_id']" position="attributes">
                    <attribute name="readonly">0</attribute>
                    <attribute name="context">{'default_country_id': 100}</attribute>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="replace">
                    <field name="department_id" options="{'no_create': True,'no_create_edit': True}" invisible="1"/>
                </xpath>

                <!-- <xpath expr="//page[@name='hr.hr_settings']" position="attributes">
                    <attribute name="groups">base.group_system</attribute>
                </xpath> -->

                <xpath expr="//page[@name='public']" position="attributes">
                    <attribute name="string">Alamat</attribute>
                </xpath>
                <xpath expr="//field[@name='address_id']/.." position="attributes">
                    <attribute name="string">Lokasi</attribute>
                </xpath>
                <xpath expr="//field[@name='work_location_id']" position="attributes">
                    <attribute name="string">Lokasi Kerja</attribute>
                    <attribute name="readonly">state not in ['draft']</attribute>
                </xpath>
                
                <xpath expr="//field[@name='coach_id']" position="before">
                    <field name="work_unit" string="Unit Kerja"  readonly="(state !='draft')" />
                    <field name="work_unit_id" string="Posisi Unit Kerja" options="{'no_create': True,'no_create_edit': True}"  readonly="(state != 'draft')" />
                </xpath>
                <xpath expr="//field[@name='coach_id']" position="attributes">
                    <attribute name="string">Atasan Unit Kerja</attribute>
                    <attribute name="options">{'no_create': True,'no_create_edit': True}</attribute>
                    <attribute name="domain">[('id', '!=', id),('branch_id','=',branch_id)]</attribute>
                    <attribute name="readonly">state not in ['draft']</attribute>
                </xpath>
                <xpath expr="//field[@name='coach_id']" position="after">
                    <field name="medic" options="{'no_create': True,'no_create_edit': True}"   readonly="(state !='draft')" />
                    <field name="nurse" options="{'no_create': True,'no_create_edit': True}"   readonly="(state !='draft')" />
                    <field name="seciality" options="{'no_create': True,'no_create_edit': True}"   readonly="(state !='draft')" />
                </xpath>
                <xpath expr="//field[@name='work_email']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='identification_id']" position="attributes">
                    <attribute name="required">0</attribute>
                    <attribute name="string">Nomor Kartu Keluarga</attribute>
                </xpath>
                <xpath expr="//field[@name='marital']" position="replace">
                    <field name="marital" invisible="1" string="Status Perkawinan"/>
                    <field name="marital_status" required="1" string="Status Perkawinan"/>
                </xpath>
                <xpath expr="//field[@name='birthday']" position="attributes">
                    <attribute name="required">1</attribute>
                </xpath>
                <!-- <xpath expr="//field[@name='gender']" position="attributes">
                    <attribute name="string">Jenis Kelamin</attribute>
                    <attribute name="required">1</attribute>
                    <attribute name="readonly">0</attribute>
                </xpath> -->
                <xpath expr="//field[@name='job_id']" position="attributes">
                    <attribute name="string">Jabatan</attribute>
                    <attribute name="options">{'no_create': True, 'no_open': True}</attribute>
                    <attribute name="readonly">state not in ['draft']</attribute>
                </xpath>
                <xpath expr="//page[@name='personal_information']" position="attributes">
                    <attribute name="string">Info Pekerjaan</attribute>
                </xpath>
                <xpath expr="//field[@name='birthday']/.." position="attributes">
                    <attribute name="string">Kewarganegaraan</attribute>
                    <attribute name="readonly">0</attribute>
                </xpath> 
                <xpath expr="//field[@name='identification_id']" position="after">
                    <field name="nik" required="1" force_save="1"  readonly="(state !='draft')" />
                    <field name="nik_lama" force_save="1"  readonly="(state !='draft')" />
                    <field name="no_ktp" required="1"  readonly="(state !='draft')" />
                    <field name="doc_ktp" widget="many2many_binary" string="Dokumen KTP"  readonly="(state !='draft')" />
                    <field name="no_npwp" required="1" string="No. NPWP"   readonly="(state !='draft')" />
                    <field name="doc_npwp" widget="many2many_binary" string="Dokumen NPWP"  readonly="(state !='draft')" />
                    <field name="nama_pekerjaans" invisible="1"  readonly="(state !='draft')" />
                    <field name="no_sim" required="nama_pekerjaans =='Driver'" string="Nomor SIM"   />
                </xpath>
                <xpath expr="//field[@name='children']" position="attributes">
                    <attribute name="string">Jumlah Tanggungan Anak</attribute>
                </xpath>
                <xpath expr="//field[@name='children']" position="attributes">
                    <attribute name="required">marital != False</attribute>
                </xpath>
                <xpath expr="//div[hasclass('oe_title')]" position="replace">
                    <div class="oe_title mw-75 ps-0 pe-2">
                        <label for="active" />
                        <!-- <h2>
                            <field name="active" widget="radio" />
                        </h2> -->
                        <h1>
                            <field name="employee_id" placeholder="Employee's ID"
                                required="id == False" style="font-size: min(4vw, 2.6rem);"
                                readonly="1" force_save="1" />
                        </h1>
                        <h1 class="d-flex flex-row align-items-center">
                            <div invisible="not user_id" class="me-2">
                                <widget name="hr_employee_chat"
                                    invisible="not context.get('chat_icon')" />
                            </div>

                            <field name="name" placeholder="Nama karyawan" required="True"
                                style="font-size: min(4vw, 2.6rem);" readonly="(state !='draft')" />
                        </h1>
                        <field name="initial" placeholder="Inisial"  readonly="(state !='draft')" />
                    </div>
                </xpath>
                <xpath expr="//page[@name='personal_information']/group/group[1]"
                    position="attributes">
                    <attribute name="string">Data Pribadi</attribute>
                </xpath>
                <xpath expr="//label[@for='private_street']" position="attributes">
                    <attribute name="string">Alamat Pribadi</attribute>
                </xpath>
                <xpath expr="//field[@name='private_street']" position="attributes">
                    <attribute name="placeholder">Jalan 1...</attribute>
                </xpath>
                <xpath expr="//field[@name='private_street2']" position="attributes">
                    <attribute name="placeholder">Jalan 2...</attribute>
                </xpath>
                <xpath expr="//field[@name='private_city']" position="attributes">
                    <attribute name="placeholder">Kota</attribute>
                </xpath>
                <xpath expr="//field[@name='private_state_id']" position="attributes">
                    <attribute name="placeholder">Provinsi</attribute>
                </xpath>
                <xpath expr="//field[@name='private_country_id']" position="attributes">
                    <attribute name="placeholder">Negara</attribute>
                </xpath>
                <xpath expr="//field[@name='ssnid']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='private_email']" position="after">
                    <field name="berat_badan"  />
                    <field name="tinggi_badan" />
                </xpath>
                <xpath expr="//field[@name='parent_id']" position="attributes">
                    <attribute name="option">{'no_create': True,'no_create_edit': True}</attribute>
                </xpath>
                <xpath expr="//page[@name='personal_information']/group/group[3]" position="after">
                    <group string="Status Hubungan Kerja">
                        <!-- <field name="kpi_kategory" /> -->
                        <field name="state" invisible="1"/>
                        <field name="job_status"  invisible="0"  />
                        <field name="job_status_id" options="{'no_create': True,'no_create_edit': True}" string="Status Hubungan Kerja" invisible="1" />
                        <field name="job_status_type" string="Type Status Hubungan Kerja" invisible="1"  />
                        <field name="emp_status" readonly="'|',('emp_status', 'not in', ['probation','confirmed'])"  />
                        <field name="first_date_join" string="Tanggal Pertama bergabung"  />
                        <field name="join_date" required="job_status =='permanent'" string="Tanggal Bergabung" />
                        <field name="contract_id" invisible="job_status !='contract'" options="{'no_create': True,'no_create_edit': True}" string="Nomor Kontrak"
                               context="{'is_employee': 1,'employee_name': name,'area': area,'branch': branch_id,'department': department_id,'job_id': job_id}" />
                        <label for="contract_id" required="job_status =='contract'" string="Masa Kontrak"/>
                        <div class="o_row" required="job_status !='contract'">
                            <field name="contract_datefrom" invisible="job_status !='contract'" 
                            required="job_status_type =='contract'" 
                            /> s/d 
                            <field name="contract_dateto" invisible="job_status !='contract'" 
                            required="job_status_type =='contract'" />
                        </div> 
                        <field name="kontrak_medis" 
                               invisible="job_status not in ('partner_doctor', 'contract', 'permanent')" 
                               readonly="job_status == 'partner_doctor'" 
                               force_save="1"/>
                        <field name="sip_number" invisible="kontrak_medis == False" />
                        <field name="sip_date_from" invisible="kontrak_medis == False"/>
                        <field name="sip_date_to" invisible="kontrak_medis == False" />
                        <field name="competence" invisible="kontrak_medis == False" />
                        <label for="ws_day" string="Working Service" invisible="job_status !='permanent'" />
                        <div class="o_row" invisible="job_status !='permanent'">
                            <label for="ws_year" string="Tahun" />
                            <div class="o_row">
                                <field name="ws_year" readonly="1" force_save="1" />
                            </div>
                            <label for="ws_month" string="Bulan" />
                            <div class="o_row">
                                <field name="ws_month" readonly="1" force_save="1" />
                            </div>
                            <label for="ws_day" string="Hari" />
                            <div class="o_row">
                                <field name="ws_day" readonly="1" force_save="1" />
                            </div>
                        </div>
                        <field name="employee_levels" options="{'no_create': True,'no_quick_create': True}" string="Level"/>
                        <field name="employee_group1s" string="Group Penggajian" required="1"  readonly="(state !='draft')"/>
                        <field name="employee_group1" invisible ="1" string="Employee Group"  readonly="(state !='draft')"/>
                        <field name="apoteker" invisible="employee_group1 !='group3'" />
                        <field name="attachment_contract" invisible="1" />
                    </group>
                </xpath>
                <xpath expr="//field[@name='gender']" position="replace" />
                <xpath expr="//field[@name='private_phone']" position="attributes">
                    <attribute name="string">Telepon</attribute>
                </xpath>
                <xpath expr="//field[@name='private_phone']" position="before">
                    <field name="gender" string="Jenis Kelamin" invisible="1" />
                    <field name="gender_selection" string="Jenis Kelamin" required="1" />
                </xpath>
                <xpath expr="//field[@name='spouse_complete_name']" position="attributes">
                    <attribute name="string">Nama Pasangan</attribute>
                </xpath>
                <xpath expr="//field[@name='spouse_birthdate']" position="attributes">
                    <attribute name="string">Tanggal Lahir Pasangan</attribute>
                </xpath>
                <xpath expr="//field[@name='lang']" position="attributes">
                    <attribute name="string">Bahasa</attribute>
                </xpath>
                <xpath expr="//label[@for='km_home_work']" position="attributes">
                    <attribute name="string">Jarak Rumah Ke Tempat Kerja</attribute>
                </xpath>
                <xpath expr="//field[@name='private_car_plate']" position="attributes">
                    <attribute name="string">Plat Mobil Pribadi</attribute>
                </xpath>
                <xpath expr="//field[@name='marital']/.." position="attributes">
                    <attribute name="string">Data Keluarga</attribute>
                </xpath>
                <xpath expr="//field[@name='identification_attachment_ids']" position="after">
                    <field name="religion" required="1" string="Agama" />
                </xpath>
                <xpath expr="//field[@name='religion']" position="after">
                    <field name="insurance" string="Nomor BPJS" />
                </xpath>
                <xpath expr="//field[@name='insurance']" position="after">
                    <field name="jamsostek" />
                </xpath>
                <xpath expr="//field[@name='jamsostek']" position="after">
                    <field name="ptkp"  />
                </xpath>
                <xpath expr="//field[@name='certificate']" position="before">
                    <field name="title"  />
                </xpath>
                <xpath expr="//field[@name='title']/.." position="attributes">
                    <attribute name="string">Pendidikan</attribute>
                </xpath>
                <xpath expr="//field[@name='title']" position="attributes">
                    <attribute name="string">Gelar Depan</attribute>
                </xpath>
                <xpath expr="//field[@name='title']" position="after">
                    <field name="back_title" string="Gelar Belakang" />
                </xpath>
                <xpath expr="//field[@name='certificate']" position="attributes">
                    <attribute name="string">Ijazah Terakhir</attribute>
                </xpath>
                <xpath expr="//field[@name='study_field']" position="attributes">
                    <attribute name="string">Bidang Pendidikan</attribute>
                </xpath>
                <xpath expr="//field[@name='study_school']" position="attributes">
                    <attribute name="string">Nama Sekolah</attribute>
                </xpath>
                <xpath expr="//field[@name='visa_no']/.." position="attributes">
                    <attribute name="string">Izin Kerja</attribute>
                </xpath>
                <xpath expr="//field[@name='visa_no']" position="attributes">
                    <attribute name="string">Nomor Visa</attribute>
                </xpath>
                <xpath expr="//field[@name='permit_no']" position="attributes">
                    <attribute name="string">Nomor Izin Kerja</attribute>
                </xpath>
                <xpath expr="//field[@name='visa_expire']" position="attributes">
                    <attribute name="string">Tanggal Kadaluarsa Visa</attribute>
                </xpath>
                <xpath expr="//field[@name='work_permit_expiration_date']" position="attributes">
                    <attribute name="string">Tanggal Kedaluwarsa Izin Kerja</attribute>
                </xpath>
                <xpath expr="//field[@name='has_work_permit']" position="attributes">
                    <attribute name="string">Surat Izin Kerja</attribute>
                </xpath>

                <xpath expr="//field[@name='emergency_contact']/.." position="attributes">
                    <attribute name="string">Keadaan Darurat</attribute>    
                </xpath>
                <xpath expr="//field[@name='emergency_contact']" position="attributes">
                    <attribute name="string">Nama Kontak</attribute>
                </xpath>
                <xpath expr="//field[@name='emergency_phone']" position="attributes">
                    <attribute name="string">Nomor Kontak</attribute>
                </xpath>

                <xpath expr="//page[@name='personal_information']" position="after">
                    <page name="Tunjangan dan Manfaat" class="o_hr_contract_salary_information">
                        <group name="salary_info">
                            <group string="Tunjangan">
                                <field name="attende_premie"   readonly="(state !='draft')" />
                                <field name="allowance_jemputan"  readonly="(state !='draft')" />
                                <field name="allowance_ot"   readonly="(state !='draft')" />
                                <field name="allowance_transport"   readonly="(state !='draft')" />
                                <field name="allowance_meal"   readonly="(state !='draft')" />
                                <field name="allowance_night_shift"  readonly="(state !='draft')" />
                                <field name="allowance_nightshift_amount" invisible="allowance_night_shift == False"/>
                            </group>
                            <group string="Manfaat">
                                <field name="attende_premie_amount" invisible="attende_premie == False" required="attende_premie == True"/>
                                <field name="jemputan_remarks"   readonly="(state !='draft')" />
                                <field name="ot_remarks"   readonly="(state !='draft')" />
                                <field name="transport_remarks"  readonly="(state !='draft')" />
                                <field name="meal_remarks"  readonly="(state !='draft')" />
                                <field name="allowance_nightshift_remarks"  readonly="(state !='draft')" />
                            </group>
                        </group>
                    </page>
                </xpath>

                <xpath expr="//page[@name='hr_settings']" position="attributes">
                    <attribute name="string">Pengaturan HR</attribute>
                </xpath>
                <xpath expr="//page[@name='hr_settings']//group[@name='active_group']//field[@name='employee_type']" position="attributes">
                    <attribute name="string">Jenis Karyawan</attribute>
                </xpath>
                <xpath expr="//page[@name='hr_settings']//group[@name='active_group']//field[@name='user_id']" position="attributes">
                    <attribute name="string">Pengguna terkait</attribute>
                </xpath>
                <xpath expr="//page[@name='hr_settings']//group[@name='identification_group']" position="attributes">
                    <attribute name="string">Absensi / Titik Penjualan</attribute>
                </xpath>
                <xpath expr="//page[@name='hr_settings']//group[@name='identification_group']//field[@name='pin']" position="attributes">
                    <attribute name="string">Kode PIN</attribute>
                </xpath>
                <xpath expr="//page[@name='hr_settings']//group[@name='identification_group']//field[@name='barcode']" position="attributes">
                    <attribute name="string">Nomor PIN</attribute>
                </xpath>
                <xpath expr="//page[@name='hr_settings']//group[@name='identification_group']//button[@name='generate_random_barcode']" position="attributes">
                    <attribute name="string">Buat</attribute>
                </xpath>      
                <xpath expr="//page[@name='hr_settings']//group[@name='application_group']" position="attributes">
                    <attribute name="string">Pengaturan Lamaran</attribute>
                </xpath>                      
            </field>
        </record>       
        <record id="view_employee_form" model="ir.ui.view">
            <field name="name">view.employee.form.inherit.hr.employee.hourly.wage</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="priority" eval="40"/>
            <field name="arch" type="xml">
                <xpath expr="//label[@for='hourly_cost']" position="attributes">
                    <attribute name="string">Ongkos Per Jam</attribute>
                </xpath>
            </field>
        </record>
        <record id="hr_employee_extended_tree" model="ir.ui.view">
            <field name="name">hr.employee.extended.tree</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_tree" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="before">
                    <field name="employee_id" readonly="1"/>
                    <field name="nik" />
                    <field name="no_ktp" />
                </xpath>
                <xpath expr="//field[@name='job_id']" position="replace" />
                <xpath expr="//field[@name='department_id']" position="after">
                    <field name="alldepartment" column_invisible="1" />
                    <field name="job_id" />
                    <field name="job_status" />
                    <field name="job_status_id" invisible="1"/>
                    <field name="emp_status" />
                    <field name="employee_levels"/>
                    <field name="employee_group1s" />
                </xpath>
                <xpath expr="//field[@name='work_phone']" position="replace" />
                <xpath expr="//field[@name='work_email']" position="replace" />
                <xpath expr="//field[@name='company_id']" position="replace" >
                         <field name="company_id" groups="base.group_multi_company" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="replace" />
                <xpath expr="//field[@name='job_id']" position="replace" />
                <xpath expr="//field[@name='parent_id']" position="replace" />
                <xpath expr="//field[@name='coach_id']" position="replace" />
            </field>
        </record>
        <record id="hr_jobs_extended_tree" model="ir.ui.view">
            <field name="name">hr.jobs.tree</field>
            <field name="model">hr.job</field>
            <field name="inherit_id" ref="hr.view_hr_job_tree" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='department_id']" position="before">
                    <field name="area"/>
                    <field name="branch_id" string="Unit Bisnis"/>
                </xpath>
            </field>
        </record>
        <record id="hr_jobs_branch_extended_form" model="ir.ui.view">
            <field name="name">hr.jobs.branch.form</field>
            <field name="model">hr.job</field>
            <field name="inherit_id" ref="hr.view_hr_job_form" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='department_id']" position="before">
                    <field name="area" options="{'no_create': True, 'no_open': True}"/>
                    <field name="branch_ids" invisible="1"/>
                    <field name="branch_id" options="{'no_create': True, 'no_open': True}"/>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="replace">
                    <field name="directorate_id" options="{'no_create': True,'no_create_edit': True}" domain="[('branch_id','=',branch_id)]"  string = "Direktorat" required='1'/>
                    <field name="hrms_department_id" options="{'no_create': True,'no_create_edit': True}" domain="[('branch_id','=',branch_id),('directorate_id','=',directorate_id)]" string = "Departemen" required='1'/>
                    <field name="division_id" options="{'no_create': True,'no_create_edit': True}" domain="[('branch_id','=',branch_id),('department_id','=',hrms_department_id)]" string = "Divisi" required='1'/>
                </xpath>
            </field>
        </record>
        <record id="view_hr_certificated_tree_editable" model="ir.ui.view">
            <field name="name">certificate.tree.editable</field>
            <field name="model">hr.employee.certification</field>
            <field name="arch" type="xml">
                <tree string="Certificates" create="true" edit="true">
                    <field name="employee_id" column_invisible="1" />
                    <field name="name" optional="show"/>
                    <field name="number" optional="show"/>
                    <field name="certification_types" optional="show"/>
                    <field name="must" optional="show"/>
                    <field name="issuing_institution" optional="show"/>
                    <field name="valid_from" optional="show"/>
                    <field name="valid_to" optional="show"/>
                    <field name="is_dinas" string="Ikatan Dinas"/>
                    <field name="date_from" string="Ikatan Dinas Dari" optional="show"/>
                    <field name="date_to" string="Ikatan Dinas Hingga" optional="show"/>
                    <field name="certificate_attachmentids" widget="many2many_binary" optional="hide"/>
                    <field name="remarks" optional="hide"/>
                </tree>
            </field>
        </record>        
    </data>
</odoo>